#!/bin/sh

show_logo() {
	local i=0
	while [ ! -c /dev/fb0 ] && [ $i -lt 50 ]; do
		sleep 1  
		i=$((i + 1))
	done

	# [ -c /dev/fb0 ] && echo 0 > /sys/class/backlight/backlight/bl_power

	if [ -c /dev/fb0 ] && [ -f /etc/boot_logo.fb ]; then
		cat /etc/boot_logo.fb > /dev/fb0 2>/dev/null
	fi
}

boot_hook_add preinit_main show_logo
